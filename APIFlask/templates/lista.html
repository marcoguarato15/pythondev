{% extends 'base.html' %}
{% block conteudo %}
<h2>Lista cursos</h2>
<hr>
<a class="btn btn-primary" href="{{url_for('add_curso')}}">Adicionar cursos</a>
<table class="table table-hover table-striped table-responsive">
    <thead class="table-dark">
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Nome</th>
            <th scope="col">Descrição</th>
            <th scope="col">Data de Criação</th>
            <th scope="col">Formação</th>
            <th scope="col">Ações</th>
        </tr>
    </thead>
    <tbody>
        {% if cursos %}
        {% for curso in cursos %}
        <tr>
            <td>{{curso.id}}</td>
            <td>{{curso.nome}}</td>
            <td>{{curso.descricao}}</td>
            <td>{{curso.data_criacao}}</td>
            {% for formacao in formacoes %}
                {% if curso.formacao_id == formacao.id %}
                <td>{{formacao.nome}}</td>
                {% endif %}
            {% endfor %}
            <td>
                <a class="btn btn-warning" href="{{url_for('put_curso', id=curso.id)}}">Editar</a>
                <a class="btn btn-danger" onclick="return confirm('Deseja excluir o Curso?')" href="{{url_for('del_curso', id=curso.id)}}">Deletar</a>
            </td>
            
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="5">Não há cursos com esse id</td>
        </tr>
        {% endif %}
    </tbody>
</table>
{% if cursos.has_prev %}
<a href="{{url_for('cursos', page=cursos.prev_num)}}">Cursos Anteriores</a>
{% else %}
    Cursos listados
{% endif %}
{% if cursos.has_next %}
<a href="{{url_for('cursos', page=cursos.next_num)}}">Próximos Cursos</a>
{% else %}
    Cursos listados
{% endif %}
{% endblock conteudo %}